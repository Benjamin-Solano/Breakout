EMU8086 GENERATED LISTING. MACHINE CODE <- SOURCE.
 
breakdown.exe -- emu8086 assembler version: 4.08  
 
[ 1/11/2025  --  17:21:54 ] 
 
===================================================================================================
[LINE]     LOC: MACHINE CODE                          SOURCE
===================================================================================================
 
[   1]        :                                       .MODEL SMALL
[   2]        :                                       .STACK 100h
[   3]        :                                       
[   4]        :                                       .DATA
[   5]        :                                       ; Configuración del juego
[   6]        :                                       ANCHO EQU 80
[   7]        :                                       ALTO EQU 25
[   8]        :                                       BLOQUES_FILAS EQU 15
[   9]        :                                       BLOQUES_COLS EQU 25
[  10]        :                                       TOTAL_BLOQUES EQU 375    ; 15 * 25
[  11]        :                                       
[  12]        :                                       ; Paleta
[  13]    0100: 25                                    paleta_x DB 37
[  14]    0101: 17                                    paleta_y DB 23
[  15]    0102: 07                                    paleta_ancho DB 7
[  16]        :                                       
[  17]        :                                       ; Pelota
[  18]    0103: 28                                    pelota_x DB 40
[  19]    0104: 12                                    pelota_y DB 18
[  20]    0105: 01                                    pelota_dx DB 1
[  21]    0106: FF                                    pelota_dy DB 255        ; -1
[  22]        :                                       
[  23]        :                                       ; Bloques (375 bloques = 15 filas x 25 columnas)
[  24]    0107: 01 01 01 01 01 01 01 01 01 01 01 01   bloques DB 375 DUP(1)
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01 01 01 01 01 01 01 01 01 01 
                01 01 01                            
[  25]    027E: 77 01                                 bloques_restantes DW 375
[  26]        :                                       
[  27]        :                                       ; Velocidad del juego
[  28]    0280: 00 10                                 velocidad DW 1000h
[  29]        :                                       
[  30]        :                                       ; Mensajes del menú
[  31]    0282: 20 20 5F 5F 5F 5F 20 20 5F 5F 5F 5F   titulo1 DB '  ____  ____  _____    _    _  _____  _   _ _____ $'
                20 20 5F 5F 5F 5F 5F 20 20 20 20 5F 
                20 20 20 20 5F 20 20 5F 5F 5F 5F 5F 
                20 20 5F 20 20 20 5F 20 5F 5F 5F 5F 
                5F 20 24                            
[  32]    02B5: 20 7C 20 5F 5F 20 29 7C 20 20 5F 20   titulo2 DB ' | __ )|  _ \| ____|  / \  | |/ / _ \| | | |_   _|$'
                5C 7C 20 5F 5F 5F 5F 7C 20 20 2F 20 
                5C 20 20 7C 20 7C 2F 20 2F 20 5F 20 
                5C 7C 20 7C 20 7C 20 7C 5F 20 20 20 
                5F 7C 24                            
[  33]    02E8: 20 7C 20 20 5F 20 5C 7C 20 7C 5F 29   titulo3 DB ' |  _ \| |_) |  _|   / _ \ | '' / | | | | | | | |  $'
                20 7C 20 20 5F 7C 20 20 20 2F 20 5F 
                20 5C 20 7C 20 27 27 20 2F 20 7C 20 
                7C 20 7C 20 7C 20 7C 20 7C 20 7C 20 
                7C 20 20 24                         
[  34]    031C: 20 7C 20 7C 5F 29 20 7C 20 20 5F 20   titulo4 DB ' | |_) |  _ <| |___ / ___ \|  <| |_| | |_| | | |  $'
                3C 7C 20 7C 5F 5F 5F 20 2F 20 5F 5F 
                5F 20 5C 7C 20 20 3C 7C 20 7C 5F 7C 
                20 7C 20 7C 5F 7C 20 7C 20 7C 20 7C 
                20 20 24                            
[  35]    034F: 20 7C 5F 5F 5F 5F 2F 7C 5F 7C 20 5C   titulo5 DB ' |____/|_| \_\_____/_/   \_\_|\_\___/ \___/  |_|  $'
                5F 5C 5F 5F 5F 5F 5F 2F 5F 2F 20 20 
                20 5C 5F 5C 5F 7C 5C 5F 5C 5F 5F 5F 
                2F 20 5C 5F 5F 5F 2F 20 20 7C 5F 7C 
                20 20 24                            
[  36]        :                                       
[  37]    0382: 20 20 20 20 20 20 20 20 20 20 20 31   menu_opcion1 DB '           1. JUGAR$'
                2E 20 4A 55 47 41 52 24             
[  38]    0396: 20 20 20 20 20 20 20 20 20 20 20 32   menu_opcion2 DB '           2. INSTRUCCIONES$'
                2E 20 49 4E 53 54 52 55 43 43 49 4F 
                4E 45 53 24                         
[  39]    03B2: 20 20 20 20 20 20 20 20 20 20 20 33   menu_opcion3 DB '           3. SALIR$'
                2E 20 53 41 4C 49 52 24             
[  40]    03C6: 20 20 20 20 20 20 20 20 20 20 20 53   menu_prompt DB '           Selecciona: $'
                65 6C 65 63 63 69 6F 6E 61 3A 20 24 
                                                    
[  41]        :                                       
[  42]        :                                       ; Instrucciones
[  43]    03DE: 20 20 20 20 20 20 20 20 20 20 20 49   inst_titulo DB '           INSTRUCCIONES$'
                4E 53 54 52 55 43 43 49 4F 4E 45 53 
                24                                  
[  44]    03F7: 20 20 20 55 73 61 20 6C 61 73 20 66   inst_linea1 DB '   Usa las flechas para mover la paleta$'
                6C 65 63 68 61 73 20 70 61 72 61 20 
                6D 6F 76 65 72 20 6C 61 20 70 61 6C 
                65 74 61 24                         
[  45]    041F: 20 20 20 44 65 73 74 72 75 79 65 20   inst_linea2 DB '   Destruye todos los bloques con la pelota$'
                74 6F 64 6F 73 20 6C 6F 73 20 62 6C 
                6F 71 75 65 73 20 63 6F 6E 20 6C 61 
                20 70 65 6C 6F 74 61 24             
[  46]    044B: 20 20 20 4E 6F 20 64 65 6A 65 73 20   inst_linea3 DB '   No dejes que la pelota caiga$'
                71 75 65 20 6C 61 20 70 65 6C 6F 74 
                61 20 63 61 69 67 61 24             
[  47]    046B: 20 20 20 50 72 65 73 69 6F 6E 61 20   inst_linea4 DB '   Presiona ESC para salir durante el juego$'
                45 53 43 20 70 61 72 61 20 73 61 6C 
                69 72 20 64 75 72 61 6E 74 65 20 65 
                6C 20 6A 75 65 67 6F 24             
[  48]    0497: 20 20 20 50 72 65 73 69 6F 6E 61 20   inst_linea5 DB '   Presiona cualquier tecla para volver...$'
                63 75 61 6C 71 75 69 65 72 20 74 65 
                63 6C 61 20 70 61 72 61 20 76 6F 6C 
                76 65 72 2E 2E 2E 24                
[  49]        :                                       
[  50]        :                                       ; Mensajes del juego
[  51]    04C2: 20 20 20 20 20 20 50 45 52 44 49 53   msg_perdiste DB '      PERDISTE! Presiona ENTER para menu$'
                54 45 21 20 50 72 65 73 69 6F 6E 61 
                20 45 4E 54 45 52 20 70 61 72 61 20 
                6D 65 6E 75 24                      
[  52]    04EB: 20 20 20 20 20 20 47 41 4E 41 53 54   msg_ganaste DB '      GANASTE! Presiona ENTER para menu$'
                45 21 20 50 72 65 73 69 6F 6E 61 20 
                45 4E 54 45 52 20 70 61 72 61 20 6D 
                65 6E 75 24                         
[  53]        :                                       
[  54]    0513: 01                                    juego_activo DB 1
[  55]    0514: 00                                    frame_counter DB 0
[  56]        :                                       
[  57]        :                                       .CODE
[  58]    0520:                                       MAIN PROC
[  59]    0520: B8 10 00                              MOV AX, @DATA
[  60]    0523: 8E D8                                 MOV DS, AX
[  61]        :                                       
[  62]        :                                       ; Ocultar cursor
[  63]    0525: E8 C2 00                              CALL OCULTAR_CURSOR
[  64]        :                                       
[  65]    0528:                                       MOSTRAR_MENU:
[  66]    0528: E8 F0 01                              CALL LIMPIAR_PANTALLA
[  67]    052B: E8 D4 00                              CALL DIBUJAR_MENU
[  68]        :                                       
[  69]        :                                       ; Leer opción
[  70]    052E: B4 00                                 MOV AH, 00h
[  71]    0530: CD 16                                 INT 16h
[  72]        :                                       
[  73]    0532: 3C 31                                 CMP AL, '1'
[  74]    0534: 74 19                                 JE INICIAR_JUEGO
[  75]    0536: 3C 32                                 CMP AL, '2'
[  76]    0538: 74 09                                 JE MOSTRAR_INSTRUCCIONES
[  77]    053A: 3C 33                                 CMP AL, '3'
[  78]    053C: 75 03 E9 A2 00                        JE SALIR_PROGRAMA
[  79]        :                                       
[  80]    0541: EB E5                                 JMP MOSTRAR_MENU
[  81]        :                                       
[  82]    0543:                                       MOSTRAR_INSTRUCCIONES:
[  83]    0543: E8 D5 01                              CALL LIMPIAR_PANTALLA
[  84]    0546: E8 3A 01                              CALL DIBUJAR_INSTRUCCIONES
[  85]        :                                       
[  86]        :                                       ; Esperar tecla
[  87]    0549: B4 00                                 MOV AH, 00h
[  88]    054B: CD 16                                 INT 16h
[  89]    054D: EB D9                                 JMP MOSTRAR_MENU
[  90]        :                                       
[  91]    054F:                                       INICIAR_JUEGO:
[  92]    054F: E8 88 01                              CALL REINICIAR_JUEGO
[  93]    0552: E8 C6 01                              CALL LIMPIAR_PANTALLA
[  94]        :                                       
[  95]    0555:                                       GAME_LOOP:
[  96]    0555: A0 13 04                              MOV AL, juego_activo
[  97]    0558: 3C 00                                 CMP AL, 0
[  98]    055A: 74 5E                                 JE FIN_JUEGO
[  99]        :                                       
[ 100]        :                                       ; Dibujar escena completa
[ 101]    055C: E8 D0 01                              CALL DIBUJAR_MARCO
[ 102]    055F: E8 E8 01                              CALL DIBUJAR_BLOQUES
[ 103]    0562: E8 1E 02                              CALL DIBUJAR_PALETA
[ 104]    0565: E8 41 02                              CALL DIBUJAR_PELOTA
[ 105]        :                                       
[ 106]        :                                       ; Control de velocidad
[ 107]    0568: E8 53 03                              CALL DELAY_GAME
[ 108]        :                                       
[ 109]        :                                       ; Leer tecla sin esperar
[ 110]    056B: B4 01                                 MOV AH, 01h
[ 111]    056D: CD 16                                 INT 16h
[ 112]    056F: 74 39                                 JZ NO_TECLA
[ 113]        :                                       
[ 114]    0571: B4 00                                 MOV AH, 00h
[ 115]    0573: CD 16                                 INT 16h
[ 116]        :                                       
[ 117]    0575: 3C 1B                                 CMP AL, 27          ; ESC
[ 118]    0577: 74 0C                                 JE VOLVER_MENU
[ 119]    0579: 80 FC 4B                              CMP AH, 4Bh         ; Izquierda
[ 120]    057C: 74 09                                 JE MOVER_IZQ
[ 121]    057E: 80 FC 4D                              CMP AH, 4Dh         ; Derecha
[ 122]    0581: 74 12                                 JE MOVER_DER
[ 123]    0583: EB 25                                 JMP NO_TECLA
[ 124]        :                                       
[ 125]    0585:                                       VOLVER_MENU:
[ 126]    0585: EB A1                                 JMP MOSTRAR_MENU
[ 127]        :                                       
[ 128]    0587:                                       MOVER_IZQ:
[ 129]    0587: A0 00 00                              MOV AL, paleta_x
[ 130]    058A: 3C 02                                 CMP AL, 2
[ 131]    058C: 7E 1C                                 JLE NO_TECLA
[ 132]    058E: FE C8                                 DEC AL
[ 133]    0590: A2 00 00                              MOV paleta_x, AL
[ 134]    0593: EB 15                                 JMP NO_TECLA
[ 135]        :                                       
[ 136]    0595:                                       MOVER_DER:
[ 137]    0595: A0 00 00                              MOV AL, paleta_x
[ 138]    0598: 8A 1E 02 00                           MOV BL, paleta_ancho
[ 139]    059C: 02 C3                                 ADD AL, BL
[ 140]    059E: 3C 4E                                 CMP AL, 78
[ 141]    05A0: 7D 08                                 JGE NO_TECLA
[ 142]    05A2: A0 00 00                              MOV AL, paleta_x
[ 143]    05A5: FE C0                                 INC AL
[ 144]    05A7: A2 00 00                              MOV paleta_x, AL
[ 145]        :                                       
[ 146]    05AA:                                       NO_TECLA:
[ 147]        :                                       ; Actualizar física cada 2 frames
[ 148]    05AA: FE 06 14 04                           INC frame_counter
[ 149]    05AE: A0 14 04                              MOV AL, frame_counter
[ 150]    05B1: 24 01                                 AND AL, 01h
[ 151]    05B3: 75 A0                                 JNZ GAME_LOOP
[ 152]        :                                       
[ 153]    05B5: E8 05 02                              CALL MOVER_PELOTA
[ 154]    05B8: EB 9B                                 JMP GAME_LOOP
[ 155]        :                                       
[ 156]    05BA:                                       FIN_JUEGO:
[ 157]    05BA: E8 5E 01                              CALL LIMPIAR_PANTALLA
[ 158]        :                                       
[ 159]    05BD: B6 0C                                 MOV DH, 12
[ 160]    05BF: B2 0F                                 MOV DL, 15
[ 161]    05C1: E8 60 01                              CALL MOVER_CURSOR
[ 162]        :                                       
[ 163]    05C4: A1 7E 01                              MOV AX, bloques_restantes
[ 164]    05C7: 3D 00 00                              CMP AX, 0
[ 165]    05CA: 74 05                                 JE MOSTRAR_GANASTE_MSG
[ 166]        :                                       
[ 167]    05CC: BA C2 03                              LEA DX, msg_perdiste
[ 168]    05CF: EB 03                                 JMP MOSTRAR_MSG
[ 169]        :                                       
[ 170]    05D1:                                       MOSTRAR_GANASTE_MSG:
[ 171]    05D1: BA EB 03                              LEA DX, msg_ganaste
[ 172]        :                                       
[ 173]    05D4:                                       MOSTRAR_MSG:
[ 174]    05D4: B4 09                                 MOV AH, 09h
[ 175]    05D6: CD 21                                 INT 21h
[ 176]        :                                       
[ 177]    05D8:                                       ESPERAR_ENTER:
[ 178]    05D8: B4 00                                 MOV AH, 00h
[ 179]    05DA: CD 16                                 INT 16h
[ 180]    05DC: 3C 0D                                 CMP AL, 13          ; ENTER
[ 181]    05DE: 75 F8                                 JNE ESPERAR_ENTER
[ 182]        :                                       
[ 183]    05E0: E9 45 FF                              JMP MOSTRAR_MENU
[ 184]        :                                       
[ 185]    05E3:                                       SALIR_PROGRAMA:
[ 186]    05E3: E8 10 00                              CALL MOSTRAR_CURSOR
[ 187]    05E6: B4 4C                                 MOV AH, 4Ch
[ 188]    05E8: CD 21                                 INT 21h
[ 189]        :                                       MAIN ENDP
[ 190]        :                                       
[ 191]    05EA:                                       OCULTAR_CURSOR PROC
[ 192]    05EA: 50                                    PUSH AX
[ 193]    05EB: 51                                    PUSH CX
[ 194]    05EC: B4 01                                 MOV AH, 01h
[ 195]    05EE: B9 00 20                              MOV CX, 2000h
[ 196]    05F1: CD 10                                 INT 10h
[ 197]    05F3: 59                                    POP CX
[ 198]    05F4: 58                                    POP AX
[ 199]    05F5: C3                                    RET
[ 200]        :                                       OCULTAR_CURSOR ENDP
[ 201]        :                                       
[ 202]    05F6:                                       MOSTRAR_CURSOR PROC
[ 203]    05F6: 50                                    PUSH AX
[ 204]    05F7: 51                                    PUSH CX
[ 205]    05F8: B4 01                                 MOV AH, 01h
[ 206]    05FA: B9 07 06                              MOV CX, 0607h
[ 207]    05FD: CD 10                                 INT 10h
[ 208]    05FF: 59                                    POP CX
[ 209]    0600: 58                                    POP AX
[ 210]    0601: C3                                    RET
[ 211]        :                                       MOSTRAR_CURSOR ENDP
[ 212]        :                                       
[ 213]    0602:                                       DIBUJAR_MENU PROC
[ 214]    0602: 52                                    PUSH DX
[ 215]        :                                       
[ 216]        :                                       ; Título
[ 217]    0603: B6 05                                 MOV DH, 5
[ 218]    0605: B2 0A                                 MOV DL, 10
[ 219]    0607: E8 1A 01                              CALL MOVER_CURSOR
[ 220]    060A: BA 82 01                              LEA DX, titulo1
[ 221]    060D: B4 09                                 MOV AH, 09h
[ 222]    060F: CD 21                                 INT 21h
[ 223]        :                                       
[ 224]    0611: B6 06                                 MOV DH, 6
[ 225]    0613: B2 0A                                 MOV DL, 10
[ 226]    0615: E8 0C 01                              CALL MOVER_CURSOR
[ 227]    0618: BA B5 01                              LEA DX, titulo2
[ 228]    061B: B4 09                                 MOV AH, 09h
[ 229]    061D: CD 21                                 INT 21h
[ 230]        :                                       
[ 231]    061F: B6 07                                 MOV DH, 7
[ 232]    0621: B2 0A                                 MOV DL, 10
[ 233]    0623: E8 FE 00                              CALL MOVER_CURSOR
[ 234]    0626: BA E8 01                              LEA DX, titulo3
[ 235]    0629: B4 09                                 MOV AH, 09h
[ 236]    062B: CD 21                                 INT 21h
[ 237]        :                                       
[ 238]    062D: B6 08                                 MOV DH, 8
[ 239]    062F: B2 0A                                 MOV DL, 10
[ 240]    0631: E8 F0 00                              CALL MOVER_CURSOR
[ 241]    0634: BA 1C 02                              LEA DX, titulo4
[ 242]    0637: B4 09                                 MOV AH, 09h
[ 243]    0639: CD 21                                 INT 21h
[ 244]        :                                       
[ 245]    063B: B6 09                                 MOV DH, 9
[ 246]    063D: B2 0A                                 MOV DL, 10
[ 247]    063F: E8 E2 00                              CALL MOVER_CURSOR
[ 248]    0642: BA 4F 02                              LEA DX, titulo5
[ 249]    0645: B4 09                                 MOV AH, 09h
[ 250]    0647: CD 21                                 INT 21h
[ 251]        :                                       
[ 252]        :                                       ; Opciones
[ 253]    0649: B6 0D                                 MOV DH, 13
[ 254]    064B: B2 14                                 MOV DL, 20
[ 255]    064D: E8 D4 00                              CALL MOVER_CURSOR
[ 256]    0650: BA 82 02                              LEA DX, menu_opcion1
[ 257]    0653: B4 09                                 MOV AH, 09h
[ 258]    0655: CD 21                                 INT 21h
[ 259]        :                                       
[ 260]    0657: B6 0F                                 MOV DH, 15
[ 261]    0659: B2 14                                 MOV DL, 20
[ 262]    065B: E8 C6 00                              CALL MOVER_CURSOR
[ 263]    065E: BA 96 02                              LEA DX, menu_opcion2
[ 264]    0661: B4 09                                 MOV AH, 09h
[ 265]    0663: CD 21                                 INT 21h
[ 266]        :                                       
[ 267]    0665: B6 11                                 MOV DH, 17
[ 268]    0667: B2 14                                 MOV DL, 20
[ 269]    0669: E8 B8 00                              CALL MOVER_CURSOR
[ 270]    066C: BA B2 02                              LEA DX, menu_opcion3
[ 271]    066F: B4 09                                 MOV AH, 09h
[ 272]    0671: CD 21                                 INT 21h
[ 273]        :                                       
[ 274]    0673: B6 14                                 MOV DH, 20
[ 275]    0675: B2 14                                 MOV DL, 20
[ 276]    0677: E8 AA 00                              CALL MOVER_CURSOR
[ 277]    067A: BA C6 02                              LEA DX, menu_prompt
[ 278]    067D: B4 09                                 MOV AH, 09h
[ 279]    067F: CD 21                                 INT 21h
[ 280]        :                                       
[ 281]    0681: 5A                                    POP DX
[ 282]    0682: C3                                    RET
[ 283]        :                                       DIBUJAR_MENU ENDP
[ 284]        :                                       
[ 285]    0683:                                       DIBUJAR_INSTRUCCIONES PROC
[ 286]    0683: 52                                    PUSH DX
[ 287]        :                                       
[ 288]    0684: B6 08                                 MOV DH, 8
[ 289]    0686: B2 14                                 MOV DL, 20
[ 290]    0688: E8 99 00                              CALL MOVER_CURSOR
[ 291]    068B: BA DE 02                              LEA DX, inst_titulo
[ 292]    068E: B4 09                                 MOV AH, 09h
[ 293]    0690: CD 21                                 INT 21h
[ 294]        :                                       
[ 295]    0692: B6 0B                                 MOV DH, 11
[ 296]    0694: B2 0F                                 MOV DL, 15
[ 297]    0696: E8 8B 00                              CALL MOVER_CURSOR
[ 298]    0699: BA F7 02                              LEA DX, inst_linea1
[ 299]    069C: B4 09                                 MOV AH, 09h
[ 300]    069E: CD 21                                 INT 21h
[ 301]        :                                       
[ 302]    06A0: B6 0D                                 MOV DH, 13
[ 303]    06A2: B2 0F                                 MOV DL, 15
[ 304]    06A4: E8 7D 00                              CALL MOVER_CURSOR
[ 305]    06A7: BA 1F 03                              LEA DX, inst_linea2
[ 306]    06AA: B4 09                                 MOV AH, 09h
[ 307]    06AC: CD 21                                 INT 21h
[ 308]        :                                       
[ 309]    06AE: B6 0F                                 MOV DH, 15
[ 310]    06B0: B2 0F                                 MOV DL, 15
[ 311]    06B2: E8 6F 00                              CALL MOVER_CURSOR
[ 312]    06B5: BA 4B 03                              LEA DX, inst_linea3
[ 313]    06B8: B4 09                                 MOV AH, 09h
[ 314]    06BA: CD 21                                 INT 21h
[ 315]        :                                       
[ 316]    06BC: B6 11                                 MOV DH, 17
[ 317]    06BE: B2 0F                                 MOV DL, 15
[ 318]    06C0: E8 61 00                              CALL MOVER_CURSOR
[ 319]    06C3: BA 6B 03                              LEA DX, inst_linea4
[ 320]    06C6: B4 09                                 MOV AH, 09h
[ 321]    06C8: CD 21                                 INT 21h
[ 322]        :                                       
[ 323]    06CA: B6 14                                 MOV DH, 20
[ 324]    06CC: B2 0F                                 MOV DL, 15
[ 325]    06CE: E8 53 00                              CALL MOVER_CURSOR
[ 326]    06D1: BA 97 03                              LEA DX, inst_linea5
[ 327]    06D4: B4 09                                 MOV AH, 09h
[ 328]    06D6: CD 21                                 INT 21h
[ 329]        :                                       
[ 330]    06D8: 5A                                    POP DX
[ 331]    06D9: C3                                    RET
[ 332]        :                                       DIBUJAR_INSTRUCCIONES ENDP
[ 333]        :                                       
[ 334]    06DA:                                       REINICIAR_JUEGO PROC
[ 335]    06DA: 50                                    PUSH AX
[ 336]    06DB: 53                                    PUSH BX
[ 337]    06DC: 51                                    PUSH CX
[ 338]        :                                       
[ 339]        :                                       ; Reiniciar paleta (centrada)
[ 340]    06DD: C6 06 00 00 25                        MOV paleta_x, 37
[ 341]    06E2: C6 06 01 00 17                        MOV paleta_y, 23
[ 342]        :                                       
[ 343]        :                                       ; Reiniciar pelota
[ 344]    06E7: C6 06 03 00 28                        MOV pelota_x, 40
[ 345]    06EC: C6 06 04 00 12                        MOV pelota_y, 18
[ 346]    06F1: C6 06 05 00 01                        MOV pelota_dx, 1
[ 347]    06F6: C6 06 06 00 FF                        MOV pelota_dy, 255
[ 348]        :                                       
[ 349]        :                                       ; Reiniciar bloques
[ 350]    06FB: B9 77 01                              MOV CX, 375
[ 351]    06FE: 33 DB                                 XOR BX, BX
[ 352]        :                                       
[ 353]    0700:                                       REINICIAR_BLOQUES_LOOP:
[ 354]    0700: C6 47 07 01                           MOV bloques[BX], 1
[ 355]    0704: 43                                    INC BX
[ 356]    0705: E2 F9                                 LOOP REINICIAR_BLOQUES_LOOP
[ 357]        :                                       
[ 358]    0707: C7 06 7E 01 77 01                     MOV bloques_restantes, 375
[ 359]    070D: C6 06 13 04 01                        MOV juego_activo, 1
[ 360]    0712: C6 06 14 04 00                        MOV frame_counter, 0
[ 361]        :                                       
[ 362]    0717: 59                                    POP CX
[ 363]    0718: 5B                                    POP BX
[ 364]    0719: 58                                    POP AX
[ 365]    071A: C3                                    RET
[ 366]        :                                       REINICIAR_JUEGO ENDP
[ 367]        :                                       
[ 368]    071B:                                       LIMPIAR_PANTALLA PROC
[ 369]    071B: 50                                    PUSH AX
[ 370]    071C: B4 00                                 MOV AH, 00h
[ 371]    071E: B0 03                                 MOV AL, 03h
[ 372]    0720: CD 10                                 INT 10h
[ 373]    0722: 58                                    POP AX
[ 374]    0723: C3                                    RET
[ 375]        :                                       LIMPIAR_PANTALLA ENDP
[ 376]        :                                       
[ 377]    0724:                                       MOVER_CURSOR PROC
[ 378]    0724: 50                                    PUSH AX
[ 379]    0725: 53                                    PUSH BX
[ 380]    0726: B4 02                                 MOV AH, 02h
[ 381]    0728: B7 00                                 MOV BH, 0
[ 382]    072A: CD 10                                 INT 10h
[ 383]    072C: 5B                                    POP BX
[ 384]    072D: 58                                    POP AX
[ 385]    072E: C3                                    RET
[ 386]        :                                       MOVER_CURSOR ENDP
[ 387]        :                                       
[ 388]    072F:                                       DIBUJAR_MARCO PROC
[ 389]    072F: 50                                    PUSH AX
[ 390]    0730: 51                                    PUSH CX
[ 391]    0731: 52                                    PUSH DX
[ 392]        :                                       
[ 393]        :                                       ; Línea superior
[ 394]    0732: B6 00                                 MOV DH, 0
[ 395]    0734: B2 00                                 MOV DL, 0
[ 396]    0736: B9 50 00                              MOV CX, 80
[ 397]    0739:                                       MARCO_SUP:
[ 398]    0739: E8 E8 FF                              CALL MOVER_CURSOR
[ 399]    073C: B4 02                                 MOV AH, 02h
[ 400]    073E: B2 2D                                 MOV DL, '-'
[ 401]    0740: CD 21                                 INT 21h
[ 402]    0742: FE C2                                 INC DL
[ 403]    0744: E2 F3                                 LOOP MARCO_SUP
[ 404]        :                                       
[ 405]    0746: 5A                                    POP DX
[ 406]    0747: 59                                    POP CX
[ 407]    0748: 58                                    POP AX
[ 408]    0749: C3                                    RET
[ 409]        :                                       DIBUJAR_MARCO ENDP
[ 410]        :                                       
[ 411]    074A:                                       DIBUJAR_BLOQUES PROC
[ 412]    074A: 50                                    PUSH AX
[ 413]    074B: 53                                    PUSH BX
[ 414]    074C: 51                                    PUSH CX
[ 415]    074D: 52                                    PUSH DX
[ 416]        :                                       
[ 417]    074E: 33 DB                                 XOR BX, BX
[ 418]    0750: B6 02                                 MOV DH, 2
[ 419]        :                                       
[ 420]    0752:                                       FILA_BLOQUES:
[ 421]    0752: 80 FE 11                              CMP DH, 17          ; 15 filas (2 a 16)
[ 422]    0755: 7D 27                                 JGE FIN_DIBUJAR_BLOQUES
[ 423]        :                                       
[ 424]    0757: B2 02                                 MOV DL, 2
[ 425]    0759: B1 00                                 MOV CL, 0
[ 426]        :                                       
[ 427]    075B:                                       COLUMNA_BLOQUES:
[ 428]    075B: 80 F9 19                              CMP CL, 25          ; 25 columnas
[ 429]    075E: 7D 1A                                 JGE SIGUIENTE_FILA_BLOQUES
[ 430]        :                                       
[ 431]    0760: 8A 47 07                              MOV AL, bloques[BX]
[ 432]    0763: 3C 00                                 CMP AL, 0
[ 433]    0765: 74 0B                                 JE SALTAR_BLOQUE
[ 434]        :                                       
[ 435]    0767: 51                                    PUSH CX
[ 436]    0768: E8 B9 FF                              CALL MOVER_CURSOR
[ 437]    076B: B4 02                                 MOV AH, 02h
[ 438]    076D: B2 23                                 MOV DL, '#'
[ 439]    076F: CD 21                                 INT 21h
[ 440]    0771: 59                                    POP CX
[ 441]        :                                       
[ 442]    0772:                                       SALTAR_BLOQUE:
[ 443]    0772: 43                                    INC BX
[ 444]    0773: FE C1                                 INC CL
[ 445]    0775: 80 C2 03                              ADD DL, 3           ; Espaciado de 3 caracteres
[ 446]    0778: EB E1                                 JMP COLUMNA_BLOQUES
[ 447]        :                                       
[ 448]    077A:                                       SIGUIENTE_FILA_BLOQUES:
[ 449]    077A: FE C6                                 INC DH
[ 450]    077C: EB D4                                 JMP FILA_BLOQUES
[ 451]        :                                       
[ 452]    077E:                                       FIN_DIBUJAR_BLOQUES:
[ 453]    077E: 5A                                    POP DX
[ 454]    077F: 59                                    POP CX
[ 455]    0780: 5B                                    POP BX
[ 456]    0781: 58                                    POP AX
[ 457]    0782: C3                                    RET
[ 458]        :                                       DIBUJAR_BLOQUES ENDP
[ 459]        :                                       
[ 460]    0783:                                       DIBUJAR_PALETA PROC
[ 461]    0783: 50                                    PUSH AX
[ 462]    0784: 51                                    PUSH CX
[ 463]    0785: 52                                    PUSH DX
[ 464]        :                                       
[ 465]    0786: 8A 36 01 00                           MOV DH, paleta_y
[ 466]    078A: 8A 16 00 00                           MOV DL, paleta_x
[ 467]    078E: 32 ED                                 XOR CH, CH
[ 468]    0790: 8A 0E 02 00                           MOV CL, paleta_ancho
[ 469]        :                                       
[ 470]    0794:                                       LOOP_PALETA:
[ 471]    0794: 51                                    PUSH CX
[ 472]    0795: 52                                    PUSH DX
[ 473]    0796: E8 8B FF                              CALL MOVER_CURSOR
[ 474]    0799: B4 02                                 MOV AH, 02h
[ 475]    079B: B2 3D                                 MOV DL, '='
[ 476]    079D: CD 21                                 INT 21h
[ 477]    079F: 5A                                    POP DX
[ 478]    07A0: 59                                    POP CX
[ 479]        :                                       
[ 480]    07A1: FE C2                                 INC DL
[ 481]    07A3: E2 EF                                 LOOP LOOP_PALETA
[ 482]        :                                       
[ 483]    07A5: 5A                                    POP DX
[ 484]    07A6: 59                                    POP CX
[ 485]    07A7: 58                                    POP AX
[ 486]    07A8: C3                                    RET
[ 487]        :                                       DIBUJAR_PALETA ENDP
[ 488]        :                                       
[ 489]    07A9:                                       DIBUJAR_PELOTA PROC
[ 490]    07A9: 52                                    PUSH DX
[ 491]    07AA: 8A 36 04 00                           MOV DH, pelota_y
[ 492]    07AE: 8A 16 03 00                           MOV DL, pelota_x
[ 493]    07B2: E8 6F FF                              CALL MOVER_CURSOR
[ 494]        :                                       
[ 495]    07B5: B4 02                                 MOV AH, 02h
[ 496]    07B7: B2 6F                                 MOV DL, 'o'
[ 497]    07B9: CD 21                                 INT 21h
[ 498]    07BB: 5A                                    POP DX
[ 499]    07BC: C3                                    RET
[ 500]        :                                       DIBUJAR_PELOTA ENDP
[ 501]        :                                       
[ 502]    07BD:                                       MOVER_PELOTA PROC
[ 503]    07BD: 50                                    PUSH AX
[ 504]    07BE: 53                                    PUSH BX
[ 505]    07BF: 51                                    PUSH CX
[ 506]        :                                       
[ 507]        :                                       ; Mover en X
[ 508]    07C0: A0 03 00                              MOV AL, pelota_x
[ 509]    07C3: 8A 1E 05 00                           MOV BL, pelota_dx
[ 510]    07C7: 02 C3                                 ADD AL, BL
[ 511]    07C9: A2 03 00                              MOV pelota_x, AL
[ 512]        :                                       
[ 513]        :                                       ; Mover en Y
[ 514]    07CC: A0 04 00                              MOV AL, pelota_y
[ 515]    07CF: 8A 1E 06 00                           MOV BL, pelota_dy
[ 516]    07D3: 02 C3                                 ADD AL, BL
[ 517]    07D5: A2 04 00                              MOV pelota_y, AL
[ 518]        :                                       
[ 519]        :                                       ; Colisión paredes laterales
[ 520]    07D8: A0 03 00                              MOV AL, pelota_x
[ 521]    07DB: 3C 01                                 CMP AL, 1
[ 522]    07DD: 7E 06                                 JLE REBOTAR_X
[ 523]    07DF: 3C 4E                                 CMP AL, 78
[ 524]    07E1: 7D 02                                 JGE REBOTAR_X
[ 525]    07E3: EB 14                                 JMP CHECK_Y
[ 526]        :                                       
[ 527]    07E5:                                       REBOTAR_X:
[ 528]    07E5: A0 05 00                              MOV AL, pelota_dx
[ 529]    07E8: F6 D8                                 NEG AL
[ 530]    07EA: A2 05 00                              MOV pelota_dx, AL
[ 531]        :                                       ; Ajustar posición
[ 532]    07ED: A0 03 00                              MOV AL, pelota_x
[ 533]    07F0: 8A 1E 05 00                           MOV BL, pelota_dx
[ 534]    07F4: 02 C3                                 ADD AL, BL
[ 535]    07F6: A2 03 00                              MOV pelota_x, AL
[ 536]        :                                       
[ 537]    07F9:                                       CHECK_Y:
[ 538]        :                                       ; Colisión techo
[ 539]    07F9: A0 04 00                              MOV AL, pelota_y
[ 540]    07FC: 3C 01                                 CMP AL, 1
[ 541]    07FE: 7E 27                                 JLE REBOTAR_Y_UP
[ 542]        :                                       
[ 543]        :                                       ; Colisión paleta
[ 544]    0800: A0 04 00                              MOV AL, pelota_y
[ 545]    0803: 8A 1E 01 00                           MOV BL, paleta_y
[ 546]    0807: 3A C3                                 CMP AL, BL
[ 547]    0809: 75 30                                 JNE CHECK_BLOQUES
[ 548]        :                                       
[ 549]    080B: A0 03 00                              MOV AL, pelota_x
[ 550]    080E: 8A 1E 00 00                           MOV BL, paleta_x
[ 551]    0812: 3A C3                                 CMP AL, BL
[ 552]    0814: 7C 25                                 JL CHECK_BLOQUES
[ 553]        :                                       
[ 554]    0816: A0 03 00                              MOV AL, pelota_x
[ 555]    0819: 8A 1E 00 00                           MOV BL, paleta_x
[ 556]    081D: 8A 0E 02 00                           MOV CL, paleta_ancho
[ 557]    0821: 02 D9                                 ADD BL, CL
[ 558]    0823: 3A C3                                 CMP AL, BL
[ 559]    0825: 7D 14                                 JGE CHECK_BLOQUES
[ 560]        :                                       
[ 561]    0827:                                       REBOTAR_Y_UP:
[ 562]    0827: A0 06 00                              MOV AL, pelota_dy
[ 563]    082A: F6 D8                                 NEG AL
[ 564]    082C: A2 06 00                              MOV pelota_dy, AL
[ 565]        :                                       ; Ajustar posición
[ 566]    082F: A0 04 00                              MOV AL, pelota_y
[ 567]    0832: 8A 1E 06 00                           MOV BL, pelota_dy
[ 568]    0836: 02 C3                                 ADD AL, BL
[ 569]    0838: A2 04 00                              MOV pelota_y, AL
[ 570]        :                                       
[ 571]    083B:                                       CHECK_BLOQUES:
[ 572]    083B: E8 14 00                              CALL VERIFICAR_COLISION_BLOQUES
[ 573]        :                                       
[ 574]        :                                       ; Verificar si perdió
[ 575]    083E: A0 04 00                              MOV AL, pelota_y
[ 576]    0841: 3C 18                                 CMP AL, 24
[ 577]    0843: 7D 04                                 JGE PERDER
[ 578]        :                                       
[ 579]    0845: 59                                    POP CX
[ 580]    0846: 5B                                    POP BX
[ 581]    0847: 58                                    POP AX
[ 582]    0848: C3                                    RET
[ 583]        :                                       
[ 584]    0849:                                       PERDER:
[ 585]    0849: C6 06 13 04 00                        MOV juego_activo, 0
[ 586]    084E: 59                                    POP CX
[ 587]    084F: 5B                                    POP BX
[ 588]    0850: 58                                    POP AX
[ 589]    0851: C3                                    RET
[ 590]        :                                       MOVER_PELOTA ENDP
[ 591]        :                                       
[ 592]    0852:                                       VERIFICAR_COLISION_BLOQUES PROC
[ 593]    0852: 50                                    PUSH AX
[ 594]    0853: 53                                    PUSH BX
[ 595]    0854: 51                                    PUSH CX
[ 596]    0855: 52                                    PUSH DX
[ 597]        :                                       
[ 598]        :                                       ; Verificar si está en rango de bloques
[ 599]    0856: A0 04 00                              MOV AL, pelota_y
[ 600]    0859: 3C 02                                 CMP AL, 2
[ 601]    085B: 7C 52                                 JL FIN_VERIFICAR
[ 602]    085D: 3C 11                                 CMP AL, 17
[ 603]    085F: 7D 4E                                 JGE FIN_VERIFICAR
[ 604]        :                                       
[ 605]    0861: A0 03 00                              MOV AL, pelota_x
[ 606]    0864: 3C 02                                 CMP AL, 2
[ 607]    0866: 7C 47                                 JL FIN_VERIFICAR
[ 608]    0868: 3C 4D                                 CMP AL, 77
[ 609]    086A: 7D 43                                 JGE FIN_VERIFICAR
[ 610]        :                                       
[ 611]        :                                       ; Calcular fila: (y - 2)
[ 612]    086C: A0 04 00                              MOV AL, pelota_y
[ 613]    086F: 2C 02                                 SUB AL, 2
[ 614]    0871: B3 19                                 MOV BL, 25           ; 25 columnas por fila
[ 615]    0873: F6 E3                                 MUL BL
[ 616]    0875: 8B D8                                 MOV BX, AX           ; BX = índice base de la fila
[ 617]        :                                       
[ 618]        :                                       ; Calcular columna: (x - 2) / 3
[ 619]    0877: A0 03 00                              MOV AL, pelota_x
[ 620]    087A: 2C 02                                 SUB AL, 2
[ 621]    087C: B1 03                                 MOV CL, 3
[ 622]    087E: 32 E4                                 XOR AH, AH
[ 623]    0880: F6 F1                                 DIV CL
[ 624]        :                                       
[ 625]        :                                       ; Verificar que no exceda columnas
[ 626]    0882: 3C 19                                 CMP AL, 25
[ 627]    0884: 73 29                                 JAE FIN_VERIFICAR
[ 628]        :                                       
[ 629]        :                                       ; BX = fila * 25 + columna
[ 630]    0886: 32 E4                                 XOR AH, AH
[ 631]    0888: 03 D8                                 ADD BX, AX
[ 632]        :                                       
[ 633]        :                                       ; Verificar límite del array
[ 634]    088A: 81 FB 77 01                           CMP BX, 375
[ 635]    088E: 73 1F                                 JAE FIN_VERIFICAR
[ 636]        :                                       
[ 637]        :                                       ; Verificar si el bloque existe
[ 638]    0890: 8A 47 07                              MOV AL, bloques[BX]
[ 639]    0893: 3C 00                                 CMP AL, 0
[ 640]    0895: 74 18                                 JE FIN_VERIFICAR
[ 641]        :                                       
[ 642]        :                                       ; Destruir bloque
[ 643]    0897: C6 47 07 00                           MOV bloques[BX], 0
[ 644]    089B: FF 0E 7E 01                           DEC bloques_restantes
[ 645]        :                                       
[ 646]        :                                       ; Rebotar verticalmente
[ 647]    089F: A0 06 00                              MOV AL, pelota_dy
[ 648]    08A2: F6 D8                                 NEG AL
[ 649]    08A4: A2 06 00                              MOV pelota_dy, AL
[ 650]        :                                       
[ 651]        :                                       ; Verificar victoria
[ 652]    08A7: A1 7E 01                              MOV AX, bloques_restantes
[ 653]    08AA: 3D 00 00                              CMP AX, 0
[ 654]    08AD: 74 05                                 JE GANAR
[ 655]        :                                       
[ 656]    08AF:                                       FIN_VERIFICAR:
[ 657]    08AF: 5A                                    POP DX
[ 658]    08B0: 59                                    POP CX
[ 659]    08B1: 5B                                    POP BX
[ 660]    08B2: 58                                    POP AX
[ 661]    08B3: C3                                    RET
[ 662]        :                                       
[ 663]    08B4:                                       GANAR:
[ 664]    08B4: C6 06 13 04 00                        MOV juego_activo, 0
[ 665]    08B9: 5A                                    POP DX
[ 666]    08BA: 59                                    POP CX
[ 667]    08BB: 5B                                    POP BX
[ 668]    08BC: 58                                    POP AX
[ 669]    08BD: C3                                    RET
[ 670]        :                                       VERIFICAR_COLISION_BLOQUES ENDP
[ 671]        :                                       
[ 672]    08BE:                                       DELAY_GAME PROC
[ 673]    08BE: 51                                    PUSH CX
[ 674]    08BF: 52                                    PUSH DX
[ 675]        :                                       
[ 676]    08C0: B9 01 00                              MOV CX, 0001h
[ 677]        :                                       
[ 678]    08C3:                                       DELAY_OUTER:
[ 679]    08C3: BA 00 50                              MOV DX, 5000h
[ 680]    08C6:                                       DELAY_INNER:
[ 681]    08C6: 4A                                    DEC DX
[ 682]    08C7: 75 FD                                 JNZ DELAY_INNER
[ 683]    08C9: E2 F8                                 LOOP DELAY_OUTER
[ 684]        :                                       
[ 685]    08CB: 5A                                    POP DX
[ 686]    08CC: 59                                    POP CX
[ 687]    08CD: C3                                    RET
[ 688]        :                                       DELAY_GAME ENDP
[ 689]        :                                       
[ 690]        :                                       END MAIN
[ 691]        :                                       
 
===================================================================================================
 
EXE HEADER - bytes from 0000 to 01FF inclusive.

0000: 4D      -   exe signature (M)
0001: 5A      -   exe signature (Z)
0002: CE      -   bytes on last page (l.byte)
0003: 00      -   bytes on last page (h.byte)
0004: 06      -   512 byte pages in file (l.byte)
0005: 00      -   512 byte pages in file (h.byte)
0006: 01      -   relocations (l.byte)
0007: 00      -   relocations (h.byte)
0008: 20      -   paragraphs in header (l.byte)
0009: 00      -   paragraphs in header (h.byte)
000A: 00      -   minimum memory (l.byte)
000B: 00      -   minimum memory (h.byte)
000C: FF      -   maximum memory (l.byte)
000D: FF      -   maximum memory (h.byte)
000E: 00      -   SS - stack segment (l.byte)
000F: 00      -   SS - stack segment (h.byte)
0010: 00      -   SP - stack pointer (l.byte)
0011: 01      -   SP - stack pointer (h.byte)
0012: 2A      -   check sum (l.byte)
0013: 46      -   check sum (h.byte)
0014: 00      -   IP - instruction pointer (l.byte)
0015: 00      -   IP - instruction pointer (h.byte)
0016: 52      -   CS - code segment (l.byte)
0017: 00      -   CS - code segment (h.byte)
0018: 1E      -   relocation table adress (l.byte)
0019: 00      -   relocation table adress (h.byte)
001A: 00      -   overlay number (l.byte)
001B: 00      -   overlay number (h.byte)
001C: 01      -   signature (l.byte)
001D: 00      -   signature (h.byte)
001E: 01      -   relocation table - offset inside segment (l.byte)
001F: 00      -   relocation table - offset inside segment (h.byte)
0020: 52      -   relocation table - segment anchor (l.byte)
0021: 00      -   relocation table - segment anchor (h.byte)
0022 to 01FF  -   reserved relocation area  (00) 




===================================================================================================
